\documentclass[10pt]{article}
\usepackage{graphicx}    % needed for including graphics e.g. EPS, PS
\topmargin -1.5cm        % read Lamport p.163
\oddsidemargin -0.04cm   % read Lamport p.163
\evensidemargin -0.04cm  % same as oddsidemargin but for left-hand pages
\textwidth 16.59cm
\textheight 21.94cm 
\parskip 0pt            % sets spacing between paragraphs
\parindent 0pt		     % sets leading space for paragraphs
\usepackage{mathtools}
\DeclarePairedDelimiterX\Set[2]{\lbrace}{\rbrace}
 { #1 \,\delimsize|\, #2 }
\usepackage{amsthm}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{enumerate}
\newcommand{\after}{\circ } 
\newcommand{\la}{\langle } 
\newcommand{\ra}{\rangle } 
\newcommand{\ti}{\to \infty} 
\newcommand{\R}{\mathbb{R}}
\newcommand{\C}{\mathbb{C}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\F}{\mathbb{F}}
\newcommand{\e}{\varepsilon}
\newcommand{\A}{\forall}
\newcommand{\mcC}{\mathcal{C}} 
\newcommand{\mcA}{\mathcal{A}} 
\newcommand{\mcM}{\mathcal{M}} 
\newcommand{\mcN}{\mathcal{N}} 
\newcommand{\mcL}{\mathcal{L}} 
\newcommand{\satisfies}{\models} 
\newcommand{\Mod}{\text{Mod}} 
\newcommand{\inn}{\varepsilon}
\newcommand{\ninn}{\not\varepsilon}
\newcommand{\E}{\exists}
\newcommand{\mfC}{\mathfrak{C}}
\newcommand{\mfA}{\mathfrak{A}}
\newcommand{\mfG}{\mathfrak{G}}
\newcommand{\mfN}{\mathfrak{N}}
\newcommand{\mfR}{\mathfrak{R}}
\newcommand{\mcE}{\mathcal{E}}
\newcommand{\Hom}{\text{Hom}}
\newcommand{\Id}{\text{Id}}
\newcommand{\inv}{^{-1}}
\newcommand{\s}{\sqrt}
\newcommand{\isom}{\equiv}
\newcommand{\half}{\frac{1}{2}}

\usepackage{tikz}
\usetikzlibrary{matrix,arrows,automata}
\newtheorem{lem}{Lemma}
\author{Adam Freilich}
\title{Marker's Model Theory: Problems \S 2.5}
\begin{document}
\maketitle

% Problems to definitely do: 
% Elementary extension problems: 8*, 9*, 10*, 11, 
% 17*, 28*, 31, 32, 
% Hard: 22 (Really gets into filters and ultrafilters)

\begin{enumerate}[1.]
%1
\item
 
\item
 
\item
 
\item
 
\item

%6
\item
 
\item
 
\item % Do this one = 8
Recall the definition of algebraic and definable closures:

Let \(\mcM\) be an \(\mcL\)-structure and \(A \subseteq M\). 
We say that \(b \in M\) is definable over \(A\) if there is a formula \(\phi(v, \bar{w})\) and \(\bar{a} \in A\) such that
\[\mcM \models \phi(b, \bar{a}) \land \A y (\phi(y, \bar{a}) \to y = b)\]
in other words, \(\{b\}\) is \(A\)-definable. 

The definable closure of \(A\) all elements of \(M\) which are definable over \(A\).

Similarly, \(b\) is algebraic over \(A\) if \(b\) is in a finite \(A\)-definable set. 
The algebraic closure of \(A\) is the set of all elements of \(M\) which are algebraic over \(A\).

Now that we've recalled the definitions, we will state the problem again: 
\(\mcM \prec \mcN\) and \(A \subseteq M\).
\begin{enumerate}[a)]
  % I think I can do better at making this clear
  \item WTS: The definable (algebraic) closure of \(A\) in \(\mcN\) is equal to the definable (algebraic) closure of \(A\) in \(\mcM\).

  Based on how we defined elementary embeddings: The condition that \(\mcM \prec \mcN\) is equivalent to the condition that \(\mcM \equiv \mcN\) where we augment the language with constant symbols for all elements of \(M\). 

  Assume that for some \(b \in M\) we have \(\{b\}\) is \(A\)-definable as above (i.e. \{b\} is in the definable closure of \(A\)). 
Then \(\mcM \models \phi(b, \bar{a}) \land \A y (\phi(y, \bar{a}) \to y = b)\) in both \(\mcM\) and \(\mcN\). 

  Next, assume that for some \(b \in N\) we have \(\mcN \models \phi(b, \bar{a}) \land \A y (\phi(y, \bar{a}) \to y = b)\)

  As \(\mcN \models \phi(b, \bar{a})\) we also have \(\mcN \models \E x \phi(x, \bar{a})\) and as \(\mcM\) and \(\mcN\) are elementarily equivalent (in this augmented language) we must have an element of \(M\) (call it \(b'\)) which satisfies \(\phi(b', \bar{a})\). 
  It must also satisy that in \(\mcN\) and therefore we have \(b' = b\). 
  All the \(A\)-definable elements of \(N\) are therefore in \(M\) and every \(A\)-definable element of \(M\) is also \(A\)-definable as an element of \(N\).

  Similarly, in our extended language we can say that if \(b \in M\) is algebraic over \(A\) then \(\mcM \models \phi(b, \bar{a}) \land \A y (\phi(y, \bar{a}) \to \bigvee y = b_i)\) for some finite set of \(b_i \in M\) and that \(N\) does as well. 
  If \(b \notin M\), for any finite set of \(b_i \in M\) we have that \(\mcM \models \E x \phi(x, \bar{a}) \land \bigwedge x \neq b_i\) so infinitely many \(b \in M\) satisfy this condition as well (in both \(M\) and \(N\)) and therefore \(b\) cannot be algebraic in \(\mcN\). 
  In conclusion, if \(b\) is algebraic over \(A\) in \(\mcM\) then it is still algebraic over \(A\) in \(\mcN\) and if it is not in \(M\) it cannot be algebraic over \(A\). 

  \item How about this: \(2\N \equiv \N\) as linear orders. Also, \(2\N \subset \N\). The closure of any sort of any set in either of thes is the whole universe. I feel this might be too simple or too good to be true, yet it checks out. 

\end{enumerate}

\item \(\mcM_0 \prec \mcM_2\) means that \(\mcM_0 \equiv \mcM_2\) as \(\mcL_{\mcM_0}\)-structures. 

Additionally \(\mcM_1 \prec \mcM_2\) means that \(\mcM_1 \equiv \mcM_2\) as \(\mcL_{\mcM_1}\)-structures. 

This implies that \(\mcM_1 \equiv \mcM_2\) as \(\mcL_{\mcM_0}\)-structures as this is a sublanguage. 

\(\equiv\) is transitive, so, as both are equivalent to \(\mcM_2\) as \(\mcL_{\mcM_0}\)-structures, they are elementarily equivalent to each other in that languages which is the definition of \(\mcM_0 \prec \mcM_1\). 
 
%This could really use cleaning up. 

\item First, we show that if \(\mcM \models T\) and \(\mcA \subset \mcM\) that \(\mcA \models T_\A\). Consider a universal formula which is in \(T\), it must be true in \(\mcM\). It is of the form \(\A\bar{x}\phi(\bar{x})\) where \(\phi\) is atomic or negation of atomic. Extend our language to include constant symbols for all of \(A\) and interpret them in \(\mcM\) in accordance with the includion map. In particular for any \(\bar{a} \in A^n\) we have \(\phi(\bar{a})\) is true in \(\mcM\) and equivalently, true in \(\mcA\). Therefore, our original universal formula is true in \(\mcA\) as well. 

In the other direction, assume \(\mcA \models T_\A\). We shall construct a model \(\mcM\) which extends \(\mcA\) and models all of \(T\). It would suffice to show that if we extend our language to \(\mcL_\mcA\) that \(\text{Diag}(A) \cup T\) is finitely satisfiable (in the case where \(T\) is satisfiable, as otherwise even \(T_\A\) contains a contradiction and has no models). Consider a finite subset of \(\text{Diag}(A)\). It contains some finite number of added constants (say \(\bar{a}\)). Replace these constants by variables, and prefix the conjunction of the modified formulae from \(\text{Diag}(A)\) by \(\E\bar{x}\). This must be consistent with (any finite subset of) \(T\). Assume not. Then \(T\) has \(\neg\E\bar{x}\bigwedge \phi(\bar{x})\) as a consequence. It would be universal. So \(\mcA\) would model it. But \(\mcA\) also models the universal consequences. Contradiction.   

%11
\item
 
\item
 
\item
 
\item
 
\item

%16
\item
 
\item 
  \begin{enumerate}[a)]
  \item Begin by letting \(T_{\A\E}\) be the \(\A\E\) sentences which are consequences of \(T\) in the extended language which has constant symbols for all of \(\mcM\). 
Enumerate all existential formulae and add them one by one to \(T_{\A\E}\) if they are consistent with it. 
The resulting theory will be satisfiable. 
We construct a model for it by henkin constructions. We're done. 

  \item Taking the hint, we add a predicate \(P_M\) which corresponds to being in \(M\) in addition to constant symbols for all of \(M\). 
Our extension \(\mcN\) violating the exestentially closed condition models that there doesn't exist a vector in \(M\) satisfying the existential formula but one does exist. We than add \(\kappa\) many constant symbols and stipulate that no two are equal to each other and that all are in \(M\) in addition to all of the things in \(T\) remaining true, even when limited to things in just \(M\), and that something exists satisfying the existential formula even though nothing in \(M\) does. 
This is finitely satisfiable so it is satisfiable. We get a model. It has at least \(\kappa\) many \(M\) things. 
When limited to \(M\) it is still a model of \(T\) but no longer satisfies the existential i.e. it can be extended to satisfy an existential meaning it isn't existentially closed.   

  \item By the above two results, if we have a non-existentially closed model,  so long as we let \(\kappa'\) be large enough, we can show there are both existentially closed and non-existentially closed models of that size. These two models are not elementarily equivalent and cannot be isomorphic. Contradiction. 

ACF is axiomatized by \(\A\E\) sentences (this follows easily from the definitions of ACF) and uncountably categorical (prop 2.2.5). Therefore, the conclusion follows. 

  \end{enumerate}
 
\item
 
\item
 
\item

%21
\item
 
\item
 
\item
 
\item
 
\item

%26
\item
 
\item
 
\item
  \begin{enumerate}[a)]

    \item Note that exactly one of the following three \(\mcL_{\omega_1, \omega}\)-sentence must be true in any model of \(T_3\): 
    \(\A x \bigvee x \leq c_i \iff \neg\E x \text{ub}(x)\) or
    \(\E x \text{ub}(x) \land \A y \text{ub}(y) \to \neg(y \leq x)\) or
    \(\E x \text{ub}(x) \land \A x \text{ub}(x) \to \E y y < x \land \text{ub}(y)\)

    We then play the EF game to show \(\mcL_{\infty, \omega}\) equivalence. Match all the \(c_i\) up first. If applicable, match up the LUBs.
    We then have DLOs without endpoints between each of the elements matched up above and we know the EF-game strategy to play there.   
    
    \item
      \begin{enumerate}[i)]
        \item One direction is rather trivial (if \(\mcL' \subseteq \mcL\) then every \(\mcL'\)-sentence is also an \(\mcL\)-sentence). So given agreement on sentences of \(\mcL\), we get agreement on sentences from the finite sublanguage for free.

The other direction: to show \(\mcM\) and \(\mcN\) agree on any \(\mcL\) sentence \(\phi\), take the language consisting of only the finitely many symbols appearing in \(\phi\). 

        \item We prove instead that (\(\mcL, T\) as above) if \(T\) isn't complete than it must have two countable models disagreeing on some formula \(\phi\). \(T\) not being complete means that for some \(\phi\) both it and its negation are consistent with \(T\). Both \(T \cup \{\phi\}\) and \(T \cup \{\neg \phi\}\) have infinite models. LS gives us that they both have countable models. But these must disagree on \(\phi\). 

      \end{enumerate}

   Any two structures of \(T_3\) are elementarily equivalent for every finite sublanguage (easy EF strategy begins with matching the constant symbols). Moreover, no finite models exist (bc of the infinitely many \(c_i\)). So \(T_3\) is complete. 

    \item I think we also require something like \(P(c_i)\) for all of the constants. It is clear that we can additionally distinguish between the case where the LUB exists and is \(P\) and the case where it exists and is not \(P\). Otherwise, we can play the EF game with a similar strategy as mentioned above. 

    \item We will have some number of predicates \(P_1, \ldots, P_n\). Additionally, we will add that all constants are \(P_i\) for all \(i\). And that \(\A x P_i(x) \to P_j(x)\) if \(i > j\). Define the goodness of an LUB to be the last \(i\) such that it (the LUB) is \(P_i\). If no such \(P_i\) exists, we call it \(0\)-good.  In general, we have \(n+3\) countable models up to isomorphism, and they are the case where the constants are unbounded, where they are bounded without an LUB and the \(1+n\) cases where the LUB is either \(0, 1, \ldots \text{or} n\)-good. 

  \end{enumerate}

 
\item
 
\item

%31
\item For any \(n \in \N\) we have the FO sentence \(\gamma_n\) which says there exist \(n\) distinct elements of the universe (i.e. the size of the universe is at least \(n\)). 

Additionally, we have the FO sentence \(\delta_n = \gamma_n \land \neg \gamma_{n+1}\) asserting that the size of the universe is exactly \(n\). 

In \(\mcL_{\omega_1, \omega}\) we have the following finitely satisfiable set of sentences: \(\{\bigvee_\N \delta_n, \gamma_1, \gamma_2, \ldots\}\).

The first of which asserts the size of the universe is finite. To satisfy a finite subset it suffices to fine the largest \(\gamma_n\) and take the model of size \(n\) (this will also make the disjunction of \(\delta_i\)s true). 

The conjunction asserts that the model is of finite suze but also has size bigger than any finite size. Contradiction.    
 
\item I'm relying here on knowledge from taking finite model theory (libkin's book). Two structures are \(\equiv_{\infty, \omega\}\) iff the duplicator has a winning strategy in the infinite EF game i.e. there is a set of partial isomorphisms. By taking all subsets of the isomorphism garuanteed by \(\mcM \isom \mcN\), we get partial isomorphisms (by definition? it should be clear). The result is proven.
 
\item
 
\item
 
\item
 
\end{enumerate}

\end{document}
